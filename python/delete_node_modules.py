import os
import shutil

def delete_node_modules(root_dir, delete_all=False):
    for dirpath, dirnames, filenames in os.walk(root_dir):
        if 'node_modules' in dirnames:
            node_modules_path = os.path.join(dirpath, 'node_modules')
            print(f"Found: {node_modules_path}")
            if delete_all:
                shutil.rmtree(node_modules_path)
                print(f"Deleted: {node_modules_path}")
            else:
                confirm = input("Do you want to delete this directory? (y/n): ").strip().lower()
                if confirm == 'y':
                    shutil.rmtree(node_modules_path)
                    print(f"Deleted: {node_modules_path}")
                else:
                    print(f"Skipped: {node_modules_path}")

if __name__ == "__main__":
    project_dir = input("Enter the path to your project directory: ").strip()
    if os.path.exists(project_dir):
        delete_all_confirmation = input("Do you want to delete all node_modules directories at once? (y/n): ").strip().lower()
        delete_all = delete_all_confirmation == 'y'
        delete_node_modules(project_dir, delete_all=delete_all)
    else:
        print("Directory not found.")
